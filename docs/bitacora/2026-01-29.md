# 2026-01-29

Crónica Mensual en landing: título muestra mes actual y el bloque de ganador indica el mes anterior por nombre (sin decir ‘mes anterior’).
Crónica Mensual del landing: 1 sola corona para líder actual, bloque de ganador del mes anterior (fallback Aldrik Vhar), y paleta integrada estilo papiro.

Crónica Mensual en HOME: ganador mes anterior (fallback Aldrik Vhar), 1 sola corona para líder actual, estilo juego (colores HOME).

Crónica Mensual: título muestra mes actual y el bloque de ganador indica el mes anterior por nombre (sin decir ‘mes anterior’).

Home responsive: en mobile los paneles se reparten 50/50 (sin scroll) y el ranking se compacta (top 6 en mobile, top 10 en escritorio).

Verificado con tinker y comprobando en BD (SQLite/DBeaver) que la crónica mensual se pasa al landing y renderiza ranking o fallback correctamente.

Arreglada carga del CSS del landing: Vite input + guest layout + entrypoint landing/app.css + imports.

Archivos tocados:

- vite.config.js
- resources/views/layouts/guest.blade.php
- resources/css/landing/app.css
- resources/css/landing/theme.css
- resources/css/landing/components/portada.css
- resources/css/landing/components/prologo.css
- resources/css/landing/components/razas_grid.css
- resources/css/landing/components/reglas_del_juramento.css
- resources/css/landing/components/cronica_mensual.css

Comando ejecutado: npm run build (OK)

Landing verificado: vuelve el estilo papiro/libro, CSS cargado por Vite, sin errores de build.
No se tocó .env ni database.sqlite.
Commit y push hechos.

Migración real de CSS inline del landing a CSS por secciones (portada, prólogo, razas, reglas, crónica) + site_logo.

Archivos tocados:

- package-lock.json
- resources/views/guest/sections/portada.blade.php
- resources/views/guest/sections/prologo.blade.php
- resources/views/guest/sections/\_razas_grid.blade.php
- resources/views/guest/sections/reglas_del_juramento.blade.php
- resources/views/guest/sections/cronica_mensual.blade.php
- resources/views/partials/site_logo.blade.php
- resources/css/landing/components/portada.css
- resources/css/landing/components/prologo.css
- resources/css/landing/components/razas_grid.css
- resources/css/landing/components/reglas_del_juramento.css
- resources/css/landing/components/cronica_mensual.css
- resources/css/shared/components/site_logo.css
- resources/css/landing/app.css

Comandos ejecutados: npm run build, verificación Select-String a cero.
Comando adicional: npm i (reinstalación dependencias para build).

Se restauró theme del landing + imports correctos.

AUTH: Eliminado botón de tema en páginas de autenticación (login/register/forgot/etc).
LANDING: Razas: renombrado a “Razas de Valtherion” y sección más ancha solo en desktop para lectura completa.
Comando ejecutado: npm run build.
Resultado: /login sin botón de tema, landing OK.

---

Admin (logo navbar superior):

- Si el usuario es admin, el logo de la navbar superior ahora fuerza re-login y redirige al panel admin.
- Si el usuario no es admin, el logo mantiene el comportamiento actual (Home).
- El panel admin usa la estructura del Home con layout de juego y doble navbar.

Archivos tocados:

- resources/views/game/partials/nav_top.blade.php
- routes/web.php
- resources/views/admin/index.blade.php
- app/Http/Controllers/Auth/AdminAuthenticatedSessionController.php
- resources/views/auth/admin-login.blade.php

Notas:

- `/admin/login` usa un login propio (no el `login.blade.php` general).
- El login admin valida rol y bloquea usuarios no admin.

```

```

---

Personaje (base funcional) + bloqueo de acceso sin personaje.

Objetivo:
- Creación y gestión de personaje (crear/editar/borrar) y regla de acceso a secciones.

Archivos tocados:
- app/Http/Controllers/CharacterController.php
- app/Http/Controllers/HomeController.php
- app/Http/Middleware/EnsureHasCharacter.php
- app/Models/Character.php
- app/Models/User.php
- bootstrap/app.php
- database/migrations/2026_01_23_091224_create_characters_table.php
- resources/views/game/character/create.blade.php
- resources/views/game/character/edit.blade.php
- resources/views/game/home/index.blade.php
- routes/web.php

Comandos ejecutados:
- git status --porcelain
- git branch --show-current
- git log --oneline -5
- php artisan --version (falló: php no disponible)
- php artisan route:list (falló: php no disponible)
- ls -la database/migrations
- rg -n "characters|equipment|inventory|items" database/migrations
- ls -la app/Models

Verificación:
- No se pudo ejecutar tinker ni migrate por falta de php en el entorno.
- Pendiente comprobar en BD (SQLite/DBeaver) que la tabla characters existe y user_id es unique.

No se tocó .env ni database.sqlite.
